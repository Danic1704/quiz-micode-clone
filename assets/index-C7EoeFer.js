(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function u(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=u(r);fetch(r.href,s)}})();const p=[{question:"Comment déclarer une variable qui ne peut pas être modifiée ?",answers:["const","let","var"],correct:"const"},{question:"Quelle méthode transforme une chaîne de caractères en nombre entier ?",answers:["parseInt","parseFloat","toString"],correct:"parseInt"},{question:'Quel est le résultat de "2" + 2 en JavaScript ?',answers:["4",'"22"',"22","Erreur"],correct:'"22"'},{question:"Comment appelle-t-on une fonction qui s'appelle elle-même ?",answers:["Fonction circulaire","Fonction récursive","Fonction miroir"],correct:"Fonction récursive"},{question:"Quelle fonction permet de créer un délai en JavaScript ?",answers:["delay()","setTimeout()","wait()"],correct:"setTimeout()"},{question:"Quel est le nom de la fonction qui permet de répéter une action à intervalles réguliers ?",answers:["setInterval()","repeat()","loop()"],correct:"setInterval()"},{question:"Quelle méthode permet de retirer le dernier élément d'un tableau ?",answers:["shift()","pop()","splice()"],correct:"pop()"},{question:"Comment vérifier si une variable est un tableau en JavaScript ?",answers:["isType()","typeof","Array.isArray()"],correct:"Array.isArray()"},{question:`Quelle est la valeur de "null" lorsqu'elle est convertie en nombre ?`,answers:["0","1","undefined","null"],correct:"0"},{question:`Comment accéder au premier élément d'un tableau appelé "myArray" ?`,answers:["myArray[1]","myArray[0]","myArray.first()","myArray.one"],correct:"myArray[0]"}],c=document.querySelector("#app"),y=4e3,C=document.querySelector("#start");C.addEventListener("click",h);function h(){let a=0,i=0;u(),l(a);function u(){for(;c.firstElementChild;)c.firstElementChild.remove();const e=E(p.length);c.appendChild(e)}function l(e){u();const t=p[e];if(!t){console.error(`La question à l'index ${e} est introuvable.`),r();return}const n=v(t.question);c.appendChild(n);const o=d(t.answers);c.appendChild(o);const m=b();m.addEventListener("click",s),c.appendChild(m)}function r(e){u();const t=document.createElement("h1");t.innerHTML="Bravo ! Tu as terminé le quiz.";const n=document.createElement("p");n.innerHTML=`Tu as eu  ${i} sur ${p.length} !`,c.appendChild(t),c.appendChild(n);const o=document.createElement("button");o.innerText="Recommencer",o.addEventListener("click",h),c.appendChild(o)}function s(){const e=c.querySelector("input[name='answer']:checked");if(S(),!e){alert("Veuillez sélectionner une réponse !");return}const t=e.value,n=p[a],o=n.correct===t;o&&i++,g(o,n.correct,t),L(()=>{a++,l(a)});const m=q(o,n.correct);c.appendChild(m)}function d(e){const t=document.createElement("div");t.classList.add("answers");for(const n of e){const o=w(n);t.appendChild(o)}return t}function v(e){const t=document.createElement("h3");return t.innerText=e,t}function f(e){return e.replaceAll(" ","").toLowerCase()}function w(e){const t=document.createElement("label");t.innerText=e;const n=document.createElement("input"),o=f(e);return n.id=o,t.htmlFor=o,n.type="radio",n.name="answer",n.value=e,t.appendChild(n),t}function b(){const e=document.createElement("button");return e.innerText="Submit",e.type="submit",e}function g(e,t,n){const o=f(t),m=document.querySelector(`label[for='${o}']`),T=f(n),A=document.querySelector(`label[for='${T}']`);m.classList.add("correct"),A.classList.add(e?"correct":"incorrect")}function q(e,t){const n=document.createElement("p");return n.innerText=e?"Great ! Good answer. ":`Sorry, your answer was incorrect. The correct answer is ${t}`,n}function E(e,t){const n=document.createElement("progress");return n.max=p.length,n.value=a,n}}function L(a){let i=y;c.querySelector("button").remove();const u=()=>`Next (${i/1e3}s)`,l=document.createElement("button");l.innerText=u(),c.appendChild(l);const r=setInterval(()=>{i-=1e3,l.innerText=u()},1e3),s=setTimeout(()=>{d()},y),d=()=>{clearInterval(r),clearTimeout(s),a()};l.addEventListener("click",()=>{d()})}function S(){const a=document.querySelectorAll('input[type="radio"]');for(const i of a)i.disabled=!0}
